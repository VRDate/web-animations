<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"
  viewBox="0 0 720 300">
  <defs>
    <style type="text/css">
    svg {
      font-size: 1.2em;
    }
    .compositionLine, .dependencyLine {
      stroke: black;
      stroke-width: 1.5;
      fill: none;
    }
    .compositionLine {
      marker-start: url(#compositionDiamond);
      marker-end: url(#arrow);
    }
    .dependencyLine {
      stroke-dasharray: 3 4;
      stroke-width: 2;
      marker-end: url(#arrow);
    }
    .dependencyLabel {
      font-size: 0.6em;
      text-anchor: middle;
    }
    .instance {
      font-size: 0.7em;
    }
    .instance rect {
      stroke: black;
      fill: lemonchiffon;
    }
    .instanceLabel {
      text-anchor: middle;
      text-decoration: underline;
      font-size: 1.1em;
    }
    .compartmentDivider {
      fill: none;
      stroke: black;
    }
    .compartmentText {
    }
    .lineLabel {
      font-size: 0.5em;
    }
    .output {
      font-family: monospace;
      font-size: 0.8em;
      fill: red;
    }
    </style>
    <marker id="arrow" viewBox="0 -5 10 10" orient="auto" markerWidth="5"
      markerHeight="5">
      <path d="M0-5l10 5l-10 5z"/>
    </marker>
    <marker id="compositionDiamond" viewBox="-7 -7 14 14" orient="auto"
      markerWidth="7" markerHeight="7">
      <path d="M0-7l7 7l-7 7l-7-7z"/>
    </marker>
  </defs>
  <!-- Global default -->
  <g transform="translate(20 100)">
    <g class="instance">
      <rect width="120" height="190"/>
      <text class="instanceLabel" y="1.5em" transform="translate(60 0)">
        Global default : <tspan x="0" dy="1.2em">WebTiming</tspan></text>
      <line x2="120" y1="3.8em" y2="3.8em" class="compartmentDivider"/>
      <text class="compartmentText" y="5.5em" transform="translate(5 0)" >
        startDelay: 0
        <tspan x="0" dy="1.5em">duration: null</tspan>
        <tspan x="0" dy="1.5em">iterationCount: 1</tspan>
        <tspan x="0" dy="1.5em">direction: normal</tspan>
        <tspan x="0" dy="1.5em">timingFunction: ??</tspan>
        <tspan x="0" dy="1.5em">fill: none</tspan>
      </text>
    </g>
  </g>
  <!-- Template -->
  <g transform="translate(215 0)">
    <g transform="translate(0 10)">
      <g class="instance">
        <rect width="120" height="40"/>
        <text class="instanceLabel" y="1.5em" transform="translate(60 0)">
          WebAnimation</text>
      </g>
    </g>
    <g transform="translate(0 100)">
      <g class="instance">
        <rect width="120" height="190"/>
        <text class="instanceLabel" y="1.5em" transform="translate(60 0)">
          WebTiming</text>
        <line x2="120" y1="3.8em" y2="3.8em" class="compartmentDivider"/>
        <text class="compartmentText" y="5.5em" transform="translate(5 0)" >
          startDelay: 3
          <tspan x="0" dy="3em">iterationCount: 2</tspan>
        </text>
      </g>
    </g>
    <path d="M60 50V92" class="compositionLine"/>
    <text x="68" y="63" class="lineLabel">timing</text>
    <text x="68" y="95" class="lineLabel">1</text>
  </g>
  <path d="M215 130H150" class="dependencyLine"/>
  <text x="177.5" y="120" class="dependencyLabel">&#171;base object&#187;</text>
  <!-- Instance -->
  <g transform="translate(410 0)">
    <g transform="translate(0 10)">
      <g class="instance">
        <rect width="120" height="40"/>
        <text class="instanceLabel" y="1.3em" transform="translate(60 0)"
          style="font-size: 0.9em">
          instance :
          <tspan x="0" dy="1.1em">WebAnimationInstance</tspan></text>
      </g>
    </g>
    <g transform="translate(0 100)">
      <g class="instance">
        <rect width="120" height="190"/>
        <text class="instanceLabel" y="1.5em" transform="translate(60 0)">
          WebTiming</text>
        <line x2="120" y1="3.8em" y2="3.8em" class="compartmentDivider"/>
        <text class="compartmentText" y="5.5em" transform="translate(5 0)" >
          startDelay: 5
        </text>
      </g>
    </g>
    <path d="M60 50V92" class="compositionLine"/>
    <text x="68" y="63" class="lineLabel">timing</text>
    <text x="68" y="95" class="lineLabel">1</text>
  </g>
  <path d="M410 130H345" class="dependencyLine"/>
  <text x="372.5" y="120" class="dependencyLabel">&#171;base object&#187;</text>
  <!-- Output -->
  <g transform="translate(550 140)">
    <text class="output">
      startDelay = 5
      <tspan x="0" dy="1.3em">iterationCount = 2</tspan>
      <tspan x="0" dy="1.3em">fill = none</tspan>
    </text>
  </g>
</svg>
